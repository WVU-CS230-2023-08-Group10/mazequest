<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MazeQuest</title>
    <link rel="stylesheet" href="./Website.css">
    <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pixelify Sans">-->
    <script type="module" src = "./Website.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
   
  </head>

    <header>
      <div id="headerContainer">
        <h1>Welcome to</h1>
        <img src="./images/MazeQuest.png" alt="maze-quest-title-image">
      </div>
    </header>
    <body>
      <main> 
        <!-- Tab links -->
        <div class="tab">
          <button class="tablinks active" onclick="openTab(event, 'Hom')">Home</button>
          <button class="tablinks" onclick="openTab(event, 'Sig')">Sign Up</button>
          <button class="tablinks" onclick="openTab(event, 'In')">Login</button>
          <button class="tablinks" onclick="openTab(event, 'Gam')">Game</button>
          <button class="tablinks" onclick="openTab(event, 'Out')">Log Out</button>
        </div>

        <!-- Tab content -->
        <style>
          #Hom {
            text-align: left;
          }
        </style>
        <div id="Hom" class="tabcontent">
          <!-- Under Construction -->
          
          <h2><u>Synopsis</u></h2>
          <p>MazeQuest is an action-packed exploration game! Your journey begins as you wake up in the middle of an isolated room
            with only a single door ahead of you. Your only choice? ESCAPE. On this journey, you will encounter numerous challenging 
            puzzles, resilient enemies, and mysterious rooms as you fight to find the way forward.</p>
          <h2><u>How To Play</u></h2>
          <h3>Level Builder</h3>
          <p>Upload room templates to the site, and it will be added to your level's room layout. 
            While the template room is custom made by you, the user, the level will still possess a 
            uniquely-random layout that may contain base elements from the game.</p>
          <h3>Game Window</h3>
          <p>Greetings new player!
             Your journey is just starting as you embark on this brand-new adventure! This game is comprised of many rooms that contain 
             mazes full of secrets and enemies. These paths can branch off from the exit, but they may contain helpful items that will 
             strengthen your character. Although, this can also make it a dangerous journey; be on the lookout for helpful items as you 
             choose to avoid or fight enemies.</p>
          <h2><u>Controls</u></h2>
          <h3>Movement</h3>
          <p>Up: W<br>Down: S<br>Left: A<br>Right: D</p>
          <h3>Inventory Bar</h3>
          <p>Use Keys 1-7 or your mouse's scroll wheel to access inventory slots.</p>
        </div>
        <div id="In" class="tabcontent">
          <form class="form" id="login">
            <h1 class = "form__title">Login</h1>
            <p class="form__input-message">Input Your Email and Password Below</p>
            <div class = "form__input-group">
              <input type = "text" id = "liEmail" class= "form__input" autofocus placeholder="Email">
              <p id = "emailErrorMsg" class="form__input-error-message"></p>
            </div>
            <div class = "form__input-group">
              <input type = "password" id = "liPassword" class= "form__input" autofocus placeholder="Password">
              <p id = "passwordErrorMsg" class="form__input-error-message"></p>
            </div>
            <button class="form__button" type="submit">Continue</button>
          </form>
        </div>

        <div id="Out" class="tabcontent">
          <!-- Under Construction -->
          <p>Log Out</p>
          <button id = "logout" class="form__button" type="submit">Here</button>
        </div>

        <div id="Sig" class="tabcontent">
          <form class="form" id="signup">
            <h1 class = "form__title">Create Account</h1>
            <p class="form__input-message">Input Your Email with Your New Username and Password Below</p>
            <div class = "form__input-group">
              <input type = "email" id = "suEmail" class= "form__input" autofocus placeholder="Email">
            </div>
            <div class = "form__input-group">
              <input type = "text" class= "form__input" autofocus placeholder="Username">
            </div>
            <div class = "form__input-group">
              <input type = "password" id = "suPassword" class= "form__input" autofocus placeholder="Password">
              <p id = "passwordErrorMsg"></p>
            </div>
            <button class="form__button" type="submit">Continue</button>
            <p id="checkEmail"></p>
          </form>
        </div>
        <!-- <style>
          input{
            font: Alacard;
          }
        </style> -->
        <div id="Gam" class="tabcontent">
          <script src="./node_modules/pixi.js/dist/pixi.min.js"></script>
          <canvas id="canvas"></canvas>
        </div>
        
        <!--<script>
          document.getElementById("signup").addEventListener("submit");
        </script>-->
        <script>
          function openTab(evt, name) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
              tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            if (evt.currentTarget != null)
            {
              for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
              }
              evt.currentTarget.className += " active";
            }
            document.getElementById(name).style.display = "block";

            // If Game tab is pressed, load the game canvas
            if (name == "Gam")
            {
              var script = document.createElement('script'),
                scripts = document.getElementsByTagName('script')[0];
              script.src = "./app.js";
              scripts.parentNode.insertBefore(script, scripts);
            }
          }
          openTab(new Event('PointerEvent'), 'Hom');
        </script>

      </main>
      <div id="changeH">You found the secret hint! Nothing's hidden here though... Look harder in The Maze!</div>
      <script>
        var elem = document.getElementById("changeH");
      </script>
    </body>
  
</html>