<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MazeQuest</title>
    <link rel="stylesheet" href="./Website.css">
    <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pixelify Sans">-->
    <script type="module" src = "./Website.js"></script>
    <script type="module" src="./app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>

    <header>
      <div id="headerContainer">
        <h1>Welcome to</h1>
        <img src="./images/MazeQuest.png" alt="maze-quest-title-image">
      </div>
    </header>
    <body>
      
      <audio src="In-the-hall-of-the-mountain-king.mp3" autoplay loop id="myaudio"></audio>
      
      <!-- <script>
        
        var audio = document.getElementById("myaudio");
        
        let volume = document.getElementById('volume-slider');
        volume.addEventListener("change", function(e) {
            audio.volume = e.currentTarget.value / 100;
        })
      </script> -->
      <main> 
        <!-- Tab links -->
        <div class="tab">
          <div class="btnGroup">
            <button class="tablinks active" onclick="openTab(event, 'Hom')">Home</button>
            <button class="tablinks" onclick="openTab(event, 'Sig')">Sign Up</button>
            <button class="tablinks" onclick="openTab(event, 'In')">Login</button>
            <button class="tablinks" onclick="openTab(event, 'Bui')">LevelBuilder</button>
            <button class="tablinks" onclick="openTab(event, 'Gam')">GameWindow</button>
            <button class="tablinks" onclick="openTab(event, 'Sta')">Stat</button>
            <button class="tablinks" onclick="openTab(event, 'Out')">Log Out</button>
            <button class="tablinks" onclick="openTab(event, 'Set')">Settings</button>
          </div>
        </div>

        <!-- Tab content -->
        <style>
          #Hom {
            text-align: left;
          }
        </style>

        <div id="Set" class="tabcontent">
          <h1 >Account</h1>
          <table style ="width:100%">
            <th style="width:50%">
              <h2 >Reset Password</h2>
              <form>
                <input type = "password" id = "newPassword" class= "form__input" autofocus placeholder="Password">
                <input type = "password" id = "reNewPassword" class= "form__input" autofocus placeholder="Re-Enter Password">
              </form>
            </th>
            <th style="width:50%">
              <h2>Log Out</h2>
              <button id = "logout" class="form__button" type="submit">Here</button>
            </th>
          </table>
          <h1 >Music</h1>
          <table style ="width:100%">
            <th style="width:50%">
              <h2 >Sound Bar</h2>
              <input type="range" min="1" max="100" value="50" id="slider">
              <span id="display">1</span>
              <script>
                var audio = document.getElementById("myaudio");
                var slider = document.getElementById("slider");
                var output = document.getElementById("display");
                output.innerHTML = slider.value;
                slider.oninput = function() {
                  output.innerHTML = this.value;
                  audio.volume=(output.innerHTML)/100;
                }
                  
              </script>
            </th>
            <th style="width:50%">
              <h2 >Mute</h2>
              <input type="checkBox" id="box1" name="box1"/>
              <script>
                var audio = document.getElementById("myaudio");
                document.getElementById('box1').addEventListener('click', function (e)
                {
                    e = e || window.event;
                    audio.muted = !audio.muted;
                    e.preventDefault();
                }, false);
              </script>
            </th>
          </table>
          <h1></h1>
        </div>
        <div id="Sta" class="tabcontent">
          <!-- Under Construction -->
          <h1 class = "form__title">Leaderboards</h1>
          
          <h3>Enemies slain</h3>
          <table style ="width:60%; border:1px solid #F6C90E; margin-left: auto;margin-right: auto;">
            <tr>
              <th>#1</th>
              <th style="text-align:left;" id="U1">Username#1</th>
              <th style="text-align:right;" id="U1E">Enemies slain</th>
            </tr>
            <tr>
              <th>#2</th>
              <th style="text-align:left;" id="U2">Username#2</th>
              <th style="text-align:right;" id="U2E">Enemies slain</th>
            </tr>
            <tr>
              <th>#3</th>
              <th style="text-align:left;" id="U3">Username#3</th>
              <th style="text-align:right;" id="U3E">Enemies slain</th>
            </tr>
          </table>
          <h3>Dragons slain</h3>
          <table style ="width:60%; border:1px solid #F6C90E; margin-left: auto;margin-right: auto;">
            <tr>
              <th>#1</th>
              <th style="text-align:left;" id ="U1">Username#1</th>
              <th style="text-align:right;" id="U1D">Dragons slain</th>
            </tr>
            <tr>
              <th>#2</th>
              <th style="text-align:left;" id="U2">Username#2</th>
              <th style="text-align:right;" id="U2D">Dragons slain</th>
            </tr>
            <tr>
              <th>#3</th>
              <th style="text-align:left;" id="U3">Username#3</th>
              <th style="text-align:right;" id="U3D">Dragons slain</th>
            </tr>
          </table>
          <h3>Mazes escaped</h3>
          <table style ="width:60%; border:1px solid #F6C90E; margin-left: auto;margin-right: auto;">
            <tr>
              <th>#1</th>
              <th style="text-align:left;" id="U1">Username#1</th>
              <th style="text-align:right;" id="U1M">Mazes escaped</th>
            </tr>
            <tr>
              <th>#2</th>
              <th style="text-align:left;" id="U2">Username#2</th>
              <th style="text-align:right;" id="U2M">Mazes escaped</th>
            </tr>
            <tr>
              <th>#3</th>
              <th style="text-align:left;" id="U3">Username#3</th>
              <th style="text-align:right;" id="U3M">Mazes escaped</th>
            </tr>
          </table>
        </div>

        <div id="Bui" class="tabcontent">
          <!-- Under Construction -->
          <h1 class = "form__title">Level Builder</h1>
          <p>We will have an upload file button that will take users inputed rooms to be added into maze layout.</p>
          <!-- 
            Zip file upload where the contents of file have background image,
            (js?) file that contains 2d array of tile objects
            that either will contain nothing, an item, or a wall placement
           -->
        </div>
        <div id="Hom" class="tabcontent">
          <h2><u>Synopsis</u></h2>
          <p>MazeQuest is an action-packed exploration game! Your journey begins as you wake up in the middle of an isolated room
            with only a single door ahead of you. Your only choice? ESCAPE. On this journey, you will encounter numerous challenging 
            puzzles, resilient enemies, and mysterious rooms as you fight to find the way forward.</p>
          <h2><u>How To Play</u></h2>
          <h3>Level Builder</h3>
          <p>Upload room templates to the site, and it will be added to your level's room layout. 
            While the template room is custom made by you, the user, the level will still possess a 
            uniquely-random layout that may contain base elements from the game.</p>
          <h3>Game Window</h3>
          <p>Greetings new player!
             Your journey is just starting as you embark on this brand-new adventure! This game is comprised of many rooms that contain 
             mazes full of secrets and enemies. These paths can branch off from the exit, but they may contain helpful items that will 
             strengthen your character. Although, this can also make it a dangerous journey; be on the lookout for helpful items as you 
             choose to avoid or fight enemies.</p>
          <h2><u>Controls</u></h2>
          <h3>Movement</h3>
          <p>Up: W<br>Down: S<br>Left: A<br>Right: D</p>
          <h3>Inventory Bar</h3>
          <p>Use Keys 1-7 or your mouse's scroll wheel to access inventory slots.</p>
        </div>
        <div id="In" class="tabcontent">
          <form class="form" id="login">
            <h1 class = "form__title">Login</h1>
            <p class="form__input-message">Input Your Email and Password Below</p>
            <div class = "form__input-group">
              <input type = "text" id = "liEmail" class= "form__input" autofocus placeholder="Email">
              <p id = "emailErrorMsg" class="form__input-error-message"></p>
            </div>
            <div class = "form__input-group">
              <input type = "password" id = "liPassword" class= "form__input" autofocus placeholder="Password">
              <p id = "passwordErrorMsg" class="form__input-error-message"></p>
            </div>
            <button class="form__button" type="submit">Continue</button>
          </form>
        </div>

        <div id="Out" class="tabcontent">
          <!-- Under Construction -->
          <h1 class = "form__title">Log Out</h1>
          <button id = "logout" class="form__button" type="submit">Here</button>
        </div>

        <div id="Sig" class="tabcontent">
          <form class="form" id="signup">
            <form class="form" id = "signupContents">
            <h1 class = "form__title">Create Account</h1>
            <p class="form__input-message">Input Your Email with Your New Username and Password Below</p>
            <div class = "form__input-group">
              <input type = "email" id = "suEmail" class= "form__input" autofocus placeholder="Email">
            </div>
            <div class = "form__input-group">
              <input type = "text" id ="username" class= "form__input" autofocus placeholder="Username">
            </div>
            <div class = "form__input-group">
              <p>Password Must:</p>
              <l style="width: 80%; height: 80%;">
                <li>Be Greater than 8 Characters</li>
                <li>Not Contain the Word "Password"</li>
              </l>
              <br />
              <input type = "password" id = "suPassword" class= "form__input" autofocus placeholder="Password">
              <input type = "password" id = "reSuPassword" class= "form__input" autofocus placeholder="Re-Enter Password">
              <p id = "passwordErrorMsg"></p>
            </div>
            <button class="form__button" type="submit">Continue</button>
           </form>
          </form>
        </div>
        <div id="Gam" class="tabcontent">
          <script src="https://pixijs.download/release/pixi.js"></script>
          <canvas id="canvas"></canvas>
        </div>
        <script>
          function openTab(evt, name) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
              tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            if (evt.currentTarget != null)
            {
              for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
              }
              evt.currentTarget.className += " active";
            }
            document.getElementById(name).style.display = "block";

            // If Game tab is pressed, load the game canvas
            // if (name == "Gam")
            // {
            //   var script = document.createElement('script'),
            //     scripts = document.getElementsByTagName('script')[0];
            //   script.src = "./app.js";
            //   scripts.parentNode.insertBefore(script, scripts);
            // }
          }
          openTab(new Event('PointerEvent'), 'Hom');
        </script>

      </main>
      <div id="changeH">You found the secret hint! Nothing's hidden here though... Look harder in The Maze!</div>
      <script>
        var elem = document.getElementById("changeH");
      </script>
    </body>
</html>